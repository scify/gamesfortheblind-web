;!function(a,b,c){"use strict";var e,f,d=a.event;e=d.special.debouncedresize={setup:function(){a(this).on("resize",e.handler)},teardown:function(){a(this).off("resize",e.handler)},handler:function(a,b){var c=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(c,g)};f&&clearTimeout(f),b?h():f=setTimeout(h,e.threshold)},threshold:150};var g="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(b){function l(){var c=a(j),f=a(k);e&&(k.length?e.reject(h,c,f):e.resolve(h)),a.isFunction(b)&&b.call(d,h,c,f)}function m(b,c){b.src!==g&&-1===a.inArray(b,i)&&(i.push(b),c?k.push(b):j.push(b),a.data(b,"imagesLoaded",{isBroken:c,src:b.src}),f&&e.notifyWith(a(b),[c,h,a(j),a(k)]),h.length===i.length&&(setTimeout(l),h.unbind(".imagesLoaded")))}var d=this,e=a.isFunction(a.Deferred)?a.Deferred():0,f=a.isFunction(e.notify),h=d.find("img").add(d.filter("img")),i=[],j=[],k=[];return a.isPlainObject(b)&&a.each(b,function(a,c){"callback"===a?b=c:e&&e[a](c)}),h.length?h.bind("load.imagesLoaded error.imagesLoaded",function(a){m(a.target,"error"===a.type)}).each(function(b,d){var e=d.src,f=a.data(d,"imagesLoaded");return f&&f.src===e?(m(d,f.isBroken),void 0):d.complete&&d.naturalWidth!==c?(m(d,0===d.naturalWidth||0===d.naturalHeight),void 0):((d.readyState||d.complete)&&(d.src=g,d.src=e),void 0)}):l(),e?e.promise(d):d};var h=a(b),i=b.Modernizr;a.Elastislide=function(b,c){this.$el=a(c),this._init(b)},a.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:1,start:0,onClick:function(){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},a.Elastislide.prototype={_init:function(b){this.options=a.extend(!0,{},a.Elastislide.defaults,b);var c=this,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=d[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount?!1:(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){c._addTransition()},100),this.$el.imagesLoaded(function(){c.$el.show(),c._layout(),c._configure(),c.hasTransition?(c._removeTransition(),c._slideToItem(c.current),c.$el.on(c.transEndEventName,function(){c.$el.off(c.transEndEventName),c._setWrapperSize(),c._addTransition(),c._initEvents()})):(clearTimeout(c.hasTransitionTimeout),c._setWrapperSize(),c._initEvents(),c._slideToItem(c.current),setTimeout(function(){c._addTransition()},25)),c.options.onReady()}),void 0)},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var b=this;this.$navigation=a('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(){return b._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(){return b._slide("next"),!1})},_setItemsSize:function(){},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var b=this;h.on("debouncedresize.elastislide",function(){b._setItemsSize(),b._configure(),b._slideToItem(b.current)}),this.$el.on(this.transEndEventName,function(){b._onEndTransition()}),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){b._slide("next")},swiperight:function(){b._slide("prev")}}):this.$el.on({swipeup:function(){b._slide("next")},swipedown:function(){b._slide("prev")}}),this.$el.on("click.elastislide","li",function(c){var d=a(this);b.options.onClick(d,d.index(),c)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),h.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),a&&a.call()},_toggleControls:function(a,b){b?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(b,d){function e(b){var c=0;return a(b).find("li").each(function(){c+=a(this).width()}),c}if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var f=e(this.$el),g=this,h=this.translation||0,i="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),j=f,k="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(d===c){var l=this.fitCount*i;if(0>l)return!1;if("next"===b&&j-(Math.abs(h)+l)<k)l=j-(Math.abs(h)+k),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===b&&Math.abs(h)-l<0)l=Math.abs(h),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var m="next"===b?Math.abs(h)+Math.abs(l):Math.abs(h)-Math.abs(l);m>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),j-k>m?this._toggleControls("next",!0):this._toggleControls("next",!1)}d="next"===b?h-l:h+l}else{var l=Math.abs(d);Math.max(j,k)-l<k&&(d=-(Math.max(j,k)-k)),l>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(j,k)-k>l?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=d,h===d)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+d+"px)"):this.$el.css("transform","translateY("+d+"px)");else{a.fn.applyStyle=this.hasTransition?a.fn.animate:a.fn.css;var n="horizontal"===this.options.orientation?{left:d}:{top:d};this.$el.stop().applyStyle(n,a.extend(!0,[],{duration:this.options.speed,complete:function(){g._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(a){var a=a||this.current,b=Math.abs(this.translation)||0,c="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),d=b+this.$carousel.width(),e=Math.abs(a*c);(e+c>d||b>e)&&this._slideToItem(a)},_slideToItem:function(a){var b="horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-b)},add:function(a){var b=this,c=this.current,d=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=d.index(),this._setItemsSize(),this._configure(),this._removeTransition(),c<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){b._addTransition()},25),a&&a.call()},setCurrent:function(a,b){this.current=a,this._slideTo(),b&&b.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};var j=function(a){b.console&&b.console.error(a)};a.fn.elastislide=function(b){var c=a.data(this,"elastislide");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?(c[b].apply(c,d),void 0):(j("no such method '"+b+"' for elastislide self"),void 0):(j("cannot call methods on elastislide prior to initialization; attempted to call method '"+b+"'"),void 0)})}else this.each(function(){c?c._init():c=a.data(this,"elastislide",new a.Elastislide(b,this))});return c}}(jQuery,window);